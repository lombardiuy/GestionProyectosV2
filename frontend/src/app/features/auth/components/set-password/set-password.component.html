

      <form  [formGroup]="setUserPasswordForm">

        <h6>Actualización de clave para <strong> {{setUserPasswordForm.value.username}}</strong></h6>

        <label>Nueva contraseña:</label>
        <input type="password" formControlName="password" class="form-control"
          [ngClass]="{'is-invalid': !!password?.errors, 'is-valid': password?.valid}">

     

            <div *ngIf="password?.errors as passwordErrors" class="invalid-feedback">
                     <div *ngIf="passwordErrors['required']">El campo es obligatorio</div>
                     <div *ngIf="passwordErrors['passwordTooShort']">La contraseña debe tener al menos {{ passwordErrors['passwordTooShort'].requiredLength }} caracteres</div>
                    <div *ngIf="passwordErrors['passwordComplexity']">La contraseña debe contener al menos una letra, un número y un carácter especial.</div>
                   
                 </div>

        <label>Repetir contraseña:</label>
        <input type="password" formControlName="passwordRepeat" class="form-control"
          [ngClass]="{'is-invalid': !!passwordRepeat?.errors, 'is-valid': passwordRepeat?.valid}">

      

        <div *ngIf="passwordRepeat?.errors as passwordRepeatErrors" class="invalid-feedback">
                     <div *ngIf="passwordRepeatErrors['required']">El campo es obligatorio</div>
                     <div *ngIf="passwordRepeatErrors['passwordTooShort']">La contraseña debe tener al menos {{ passwordRepeatErrors['passwordTooShort'].requiredLength }} caracteres</div>
                    <div *ngIf="passwordRepeatErrors['passwordComplexity']">La contraseña debe contener al menos una letra, un número y un carácter especial.</div>
                    <div *ngIf="passwordRepeatErrors['areEqual']">Las contraseñas no coinciden</div>
                

        </div>

        <div class="text-center">
          <button (click)="setUserPassword()" class="btn btn-primary mr-1 mt-3" [disabled]="setUserPasswordForm.invalid || saving">
            <span *ngIf="saving" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Actualizar clave
          </button>
        </div>
      <form-message *ngIf="saving" [formMessage]="formMessage"></form-message>

      </form>
